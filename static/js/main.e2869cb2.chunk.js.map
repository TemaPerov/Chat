{"version":3,"sources":["componets/List.module.css","componets/ChatRoom.module.css","componets/ChatMessage.module.css","containers/Chat.module.css","componets/ChatMessage.js","store/constants.js","network/network.js","store/action.js","img/man.png","componets/ChatRoom.js","img/send.png","componets/List.js","img/search.png","containers/Chat.js","App.js","store/rootReduser.js","index.js"],"names":["module","exports","ChatMessage","msg","user","myMessBool","uid","className","classNames","styles","box","boxMy","boxChack","src","photoUrl","iconImg","alt","par","parMy","parChack","text","createAt","time","timeOfMess","Date","seconds","dateOfMess","toLocaleString","hour12","replace","pTime","timeMy","timeChuck","timeFunk","GET_NAME_COLECTION","GET_DATA_VALUE","LAST_MESS","REMOVE_LAST_MESS","FILTER_LIST","getData","a","axios","get","data","filterListAction","type","getDataTextAction","getLastMessAction","ChatRoom","name","messageRef","useRef","dispatch","useDispatch","useContext","Context","auth","db","useState","nameCollect","useSelector","store","nameOfColection","dataValue","nameList","names","messagesRef","collection","localStorage","setItem","JSON","stringify","query","orderBy","useCollectionData","idField","messages","louding","formValue","setFormValue","writing","setWriting","useEffect","setTimeout","console","log","add","firebase","firestore","FieldValue","serverTimestamp","img","sendMessage","e","trim","preventDefault","photoURL","value","nameWrit","setNameWrit","c","split","nameWriting","current","scrollIntoView","block","arr","i","lastMes","limitToLast","then","snapshot","docs","forEach","doc","length","getLastMess","container","titleName","headrName","button","onClick","signOut","messageBox","map","ref","scrollMessageBox","id","inputBox","onSubmit","inputBoxWithButton","onChange","target","placeholder","buttonBox","List","lastMess","lastTimeMess","filterList","elSerch","setElSearch","SendName","state","searchContact","nameOfDilog","getItem","parseString","parse","filter","el","year","month","day","toLowerCase","includes","filterText","lastMass","header","imgBox","headerName","displayName","searceBox","listBox","boxWithName","pName","lastTime","Chat","login","provider","GoogleAuthProvider","signInWithPopup","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","createContext","App","useAuthState","loading","Provider","initialState","createStore","action","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e2869cb2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"List_container__A8LCA\",\"header\":\"List_header__tx7E6\",\"headerName\":\"List_headerName__1eQGS\",\"listBox\":\"List_listBox__gyMy-\",\"searceBox\":\"List_searceBox__2Bs9F\",\"boxWithName\":\"List_boxWithName__y0MQ8\",\"imgBox\":\"List_imgBox__RAt62\",\"iconImg\":\"List_iconImg__2Itw-\",\"name\":\"List_name__2CX-1\",\"lastMass\":\"List_lastMass__2PTXc\",\"pName\":\"List_pName__iOB5f\",\"lastTime\":\"List_lastTime__3NyKa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ChatRoom_container__2MDLA\",\"titleName\":\"ChatRoom_titleName__3PpYZ\",\"headrName\":\"ChatRoom_headrName__3IJdD\",\"iconImg\":\"ChatRoom_iconImg__2v8sO\",\"button\":\"ChatRoom_button__B2O4G\",\"inputBox\":\"ChatRoom_inputBox__1Tj0C\",\"inputBoxWithButton\":\"ChatRoom_inputBoxWithButton__1-VoC\",\"buttonBox\":\"ChatRoom_buttonBox__36ieL\",\"messageBox\":\"ChatRoom_messageBox__3Wp_M\",\"scrollMessageBox\":\"ChatRoom_scrollMessageBox__1dRNU\",\"writing\":\"ChatRoom_writing__3Dobe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"iconImg\":\"ChatMessage_iconImg__sVW1T\",\"pTime\":\"ChatMessage_pTime__28ZN0\",\"timeMy\":\"ChatMessage_timeMy__2uvCk\",\"timeChuck\":\"ChatMessage_timeChuck__3Jorh\",\"box\":\"ChatMessage_box__3bMoR\",\"par\":\"ChatMessage_par__12BYG\",\"parMy\":\"ChatMessage_parMy__iKogf\",\"parChack\":\"ChatMessage_parChack__21hf-\",\"boxChakc\":\"ChatMessage_boxChakc__VSjvf\",\"boxMy\":\"ChatMessage_boxMy__X9h14\",\"parChak\":\"ChatMessage_parChak__2uvZB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Chat_container__2QB8Q\",\"button\":\"Chat_button__TYj50\"};","import styles from \"./ChatMessage.module.css\";\r\nimport classNames from \"classnames\";\r\nconst ChatMessage = ({ msg, user }) => {\r\n\r\n  const myMessBool = msg.uid === user.uid\r\n  const messIng = () => {\r\n    if (msg.photoUrl) {\r\n      return msg.photoUrl;\r\n    } else {\r\n      return \"https://socpartnerstvo.org/img/avatar_male.png\";\r\n    }\r\n  };\r\n\r\n  const timeFunk = (time) => {\r\n    const timeOfMess = new Date(time.seconds * 1000);\r\n    const dateOfMess = `${timeOfMess\r\n      .toLocaleString(\"en-GB\", { hour12: true })\r\n      .replace(/:\\d+ /, \" \")}`;\r\n    return <p className={classNames(styles.pTime,`${myMessBool ? styles.timeMy: styles.timeChuck}`)}>{dateOfMess}</p>;\r\n  };\r\n\r\n \r\n  return (\r\n\r\n    <>\r\n    <div className={classNames(styles.box,`${msg.uid === user.uid ? styles.boxMy: styles.boxChack}`)}>\r\n    {msg.uid === user.uid ? null : (\r\n      <img src={messIng()} className={styles.iconImg} alt=\"photos\" />\r\n    )}\r\n    <p className={classNames( styles.par, `${myMessBool ? styles.parMy: styles.parChack}`)}>{msg.text}</p>\r\n       \r\n  </div>\r\n      {msg.createAt &&  timeFunk(msg.createAt)}\r\n  </>\r\n  );\r\n};\r\n\r\nexport default ChatMessage;\r\n","export const GET_NAME_COLECTION = 'get_name_collection'\r\nexport const GET_DATA_VALUE= 'get_data_value'\r\nexport const LAST_MESS= 'LAST_MESS'\r\nexport const REMOVE_LAST_MESS= 'REMOVE_LAST_MESS'\r\nexport const FILTER_LIST= 'FILTER_LIST'","import axios from \"axios\";\r\n\r\nconst url ='https://api.chucknorris.io/jokes/random'\r\n export const getData = async () => {\r\n    const data = await axios.get(url)   \r\n    return data.data;\r\n  };","import { GET_NAME_COLECTION, GET_DATA_VALUE, LAST_MESS,REMOVE_LAST_MESS,FILTER_LIST } from \"./constants\";\r\nimport { getData } from \"./../network/network\";\r\n\r\nexport function sendCollectionName(state) {\r\n  return { type: GET_NAME_COLECTION, state };\r\n}\r\nexport function filterListAction(data) {\r\n  return { type: FILTER_LIST, data };\r\n}\r\n\r\nexport function getDataTextAction(data) {\r\n  return { type: GET_DATA_VALUE, data };\r\n}\r\n\r\nexport function getDataThunk() {\r\n  return async (dispatch) => {\r\n    try {\r\n      const data = await getData();\r\n      console.log(data.value);\r\n      dispatch(getDataTextAction(data.value));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n}\r\n\r\nexport function getLastMessAction(data,time) {\r\n  return { type: LAST_MESS, data,time };\r\n}\r\nexport function removeLastMessAction(data,time) {\r\n  return { type: REMOVE_LAST_MESS, data,time };\r\n}\r\n\r\nexport function getLastMess(db, arr) {\r\n  return async (dispatch) => {\r\n dispatch(removeLastMessAction([],[]))\r\n    for (let i = 0; i < arr.length; i++) { \r\n      let lastMes\r\n      let time\r\n      db.collection(arr[i].name)\r\n        .orderBy(\"createAt\").limitToLast(1)\r\n        .get()\r\n        .then((snapshot) => {         \r\n          snapshot.docs.forEach((doc) => {           \r\n            lastMes = doc.data()           \r\n            // time = doc.data().createAt;\r\n          });   \r\n          \r\n          dispatch(getLastMessAction(lastMes))\r\n        });\r\n   \r\n       \r\n    }\r\n  };\r\n}\r\n","export default \"data:image/png;base64,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\"","import styles from \"./ChatRoom.module.css\";\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport { useState, useContext, useEffect, useRef } from \"react\";\r\nimport ChatMessage from \"./ChatMessage\";\r\nimport sendIcon from \"../img/send.png\";\r\nimport { Context } from \"../App\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getDataThunk, getDataTextAction,getLastMess,removeLastMessAction} from \"../store/action\";\r\nimport man from '../img/man.png'\r\n\r\nimport axios from \"axios\";\r\n\r\nconst ChatRoom = (name) => {\r\n  const messageRef = useRef();\r\n  const dispatch = useDispatch();\r\n  const { auth, db, user } = useContext(Context);\r\n  const [message, setMessage] = useState();\r\n  const nameCollect = useSelector((store) => store.nameOfColection);\r\n  const dataValue = useSelector((store) => store.dataValue);\r\n  const nameList = useSelector(store=>store.names)\r\n  // const nameOfDilog = localStorage.getItem(\"nameCollection\")\r\n\r\n  const nameColFunk = () => {\r\n    if (nameCollect) {\r\n   \r\n      localStorage.setItem(\"nameCollection\", JSON.stringify(nameCollect));\r\n      return nameCollect.name;\r\n    } else {\r\n      return \"null\";\r\n    }\r\n  };\r\n  const messagesRef = db.collection(nameColFunk());\r\n  const query = messagesRef.orderBy(\"createAt\");\r\n  const [messages, louding] = useCollectionData(query, { idField: \"id\" });\r\n  const [formValue, setFormValue] = useState(\"\");\r\n  const [writing, setWriting] = useState();\r\n\r\n  useEffect(() => {\r\n    if (dataValue) {\r\n      setTimeout(() => {\r\n        console.log(nameCollect.uid)\r\n        messagesRef.add({\r\n          text: dataValue,\r\n          createAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n          uid: nameCollect.uid,\r\n          photoUrl: nameCollect.img,\r\n        });\r\n       \r\n        setWriting(false);\r\n        dispatch(getDataTextAction(false));\r\n      }, 5000);\r\n    }\r\n  }, [dataValue]);\r\n\r\n  const scrollToBottom = () => {\r\n    messageRef.current.scrollIntoView({ block: \"end\" });\r\n  };\r\n\r\n  const sendMessage = async (e) => {\r\n    if(formValue.trim()){ \r\n \r\n    e.preventDefault();\r\n    await messagesRef.add({\r\n      text: formValue.trim(),\r\n      createAt: firebase.firestore.FieldValue.serverTimestamp(),\r\n      uid: user.uid,\r\n      photoUrl: user.photoURL,\r\n    });\r\n \r\n    setFormValue(\"\");\r\n    setWriting(true);\r\n    dispatch(getDataThunk());\r\n  }\r\n  };\r\n  const [nameWrit, setNameWrit] = useState();\r\n\r\n  const nameWriting = () => {\r\n    if (nameCollect.name) {\r\n      const c = nameCollect.name.split(\" \");\r\n      setNameWrit(c[0]);\r\n   \r\n    }\r\n  };\r\n  useEffect(() => {\r\n    nameWriting();  \r\n    if (messageRef.current) {\r\n      scrollToBottom();\r\n    }\r\n \r\n  }, [messages, writing]);\r\n\r\n  useEffect(()=>{ \r\n      dispatch(getLastMess(db,nameList))    \r\n  },[writing])\r\nuseEffect(()=>{\r\nsetWriting(false)\r\n},[nameWrit])\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        <div className={styles.titleName}>\r\n          <div className={styles.headrName}>\r\n           <img\r\n              className={styles.iconImg}\r\n              src={nameCollect.img ? nameCollect.img : man}\r\n              alt=\"photos\"\r\n            />\r\n            <p>{nameCollect.name}</p>\r\n          </div>\r\n          <button className={styles.button} onClick={() => auth.signOut()}>\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n\r\n        <div className={styles.messageBox}>\r\n          {louding ? (\r\n            <div className=\"louderBox\">\r\n            <p>Louding...</p>\r\n            </div>\r\n          ) : (\r\n            messages && messages.map((msg) => (\r\n              <div\r\n                key={msg.id}\r\n                ref={messageRef}\r\n                className={styles.scrollMessageBox}\r\n              >\r\n                {msg && <ChatMessage msg={msg} auth={auth} user={user} />}\r\n              </div>\r\n            ))\r\n          )}\r\n         \r\n        </div>\r\n\r\n        <div className={styles.inputBox}>\r\n        {writing && (\r\n            <p className={styles.writing}>{nameWrit} is writing...</p>\r\n          )}\r\n          <form onSubmit={sendMessage} className={styles.inputBoxWithButton}>\r\n         \r\n            <input\r\n              value={formValue}\r\n              onChange={(e) => setFormValue(e.target.value)}\r\n              placeholder=\"Type your messager\"\r\n            />\r\n            <span className={styles.buttonBox}>\r\n              <img src={sendIcon} alt=\"send\" onClick={sendMessage} />\r\n            </span>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ChatRoom;\r\n","export default \"data:image/png;base64,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\"","import styles from \"./List.module.css\";\r\nimport { Context } from \"../App\";\r\nimport { useState, useContext, useEffect,useRef} from \"react\";\r\nimport search from '../img/search.png'\r\nimport {sendCollectionName,getLastMess, filterListAction} from \"../store/action\"\r\nimport { useDispatch,useSelector } from \"react-redux\";\r\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\r\nconst List = () => {\r\nconst { auth, db, user } = useContext(Context);\r\n\r\nconst dispatch = useDispatch()\r\nconst lastMess = useSelector(store=>store.lastMess)\r\nconst lastTimeMess = useSelector(store=>store.lastTimeMess)\r\nconst nameList = useSelector(store=>store.names)\r\nconst filterList = useSelector(store=>store.filterList)\r\nconst [elSerch,setElSearch]=useState('')\r\n\r\n  const SendName =(name,img,uid)=>{\r\n    const obj ={\r\n      name:name,\r\n      img:img,\r\n      uid:uid\r\n    }\r\n\r\n    dispatch(sendCollectionName(obj))\r\n    setElSearch('')\r\n    searchContact('')\r\n  }\r\n  useEffect(()=>{\r\n\r\n    dispatch(filterListAction(nameList))\r\n    const nameOfDilog = localStorage.getItem(\"nameCollection\")\r\n    const parseString = JSON.parse(nameOfDilog)\r\n \r\n    if(parseString){\r\n    \r\n      SendName(parseString.name,parseString.img,parseString.uid)\r\n    }\r\n  },[])\r\n\r\nconst timeFunk = (uid) => {\r\n  let c = lastMess.filter((el,i)=>el.uid == uid).map(el=>el.createAt)\r\n  if(c[0]){\r\n    const options = {  year: 'numeric', month: 'short', day: 'numeric' };\r\n    const timeOfMess = new Date(c[0].seconds * 1000);\r\n    const dateOfMess = `${timeOfMess\r\n      .toLocaleString(\"en-US\", options)\r\n      .replace(/:\\d+ /, \" \")}`;\r\n    return <p>{dateOfMess}</p>;\r\n  }\r\n\r\n};\r\n\r\n\r\nconst searchContact=(e)=>{\r\n  setElSearch(e)\r\n  const filterList = nameList.filter(el=>{\r\n    return el.name.toLowerCase().includes(e.toLowerCase())\r\n  })\r\ndispatch(filterListAction(filterList))\r\n}\r\nconst filterText=(uid)=>{\r\n  let c = lastMess.filter((el,i)=>el.uid == uid).map(el=>el.text)\r\n return <p className={styles.lastMass}>{c}</p>\r\n}\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        <div className={styles.header}>\r\n        <div className={styles.imgBox}>\r\n          <img className={styles.iconImg} src={user.photoURL} alt=\"photos\" />\r\n          <p className={styles.headerName}>{user.displayName}</p>\r\n          </div>\r\n          <div className={styles.searceBox}>\r\n            <img src={search}  alt=\"search\"/>\r\n            <input type='text' placeholder=\"Search\" value={elSerch} onChange={(e)=>searchContact(e.target.value)}/>\r\n          </div>\r\n        </div>\r\n        <div className={styles.listBox}>\r\n          {filterList && filterList.map((el, i) => (\r\n            <div key={i} className={styles.boxWithName} onClick={()=>SendName(el.name, el.img,el.uid)} >\r\n              <div className={styles.imgBox}>\r\n                <img className={styles.iconImg} src={el.img} alt={el.name} />\r\n              </div>\r\n\r\n              <div className={styles.name}>\r\n                <p className={styles.pName}>{el.name}</p>\r\n                {/* <p className={styles.lastMass}>{lastMess.uid == el.uid ? lastMess.text: 'no messages' }</p> */}\r\n                {filterText(el.uid)}\r\n              </div>\r\n              <div className={styles.lastTime}>\r\n              {timeFunk(el.uid)}\r\n            \r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYoAAAGJCAMAAACjNISMAAAC/VBMVEUAAAD///9/f3+qqqq/v7+ZmZmqqqq2trafn5+pqamysrKiubmqqqqwsLCjtraqqqqvr6+0tLSpqamurq6ysrKpqamtra2xsbGqqqqtra2wsLCps7Otra2vr6+qsrKsrKyvr6+psbGsrKyurq6psbGsrKyurq6psLCsrKyurq6psLCrsbGtra2vr6+rsbGtra2vr6+rsLCtra2vr6+rsLCtra2urq6rsLCtra2urq6rr6+srKyurq6rr6+ssLCurq6rr6+ssLCtra2rr6+ssLCtra2rrq6sr6+tra2urq6sr6+tra2urq6sr6+tsLCurq6sr6+tsLCurq6sr6+tsLCurq6rrq6sr6+tra2rrq6sr6+tra2rrq6sr6+tsLCrrq6sr6+tsLCrrq6sr6+tr6+urq6sr6+tr6+urq6srq6tr6+tra2srq6tr6+tra2srq6tr6+tsLCsrq6sr6+tr6+srq6sr6+tr6+srq6srq6tr6+srq6srq6tr6+srq6srq6tr6+tr6+srq6tr6+tr6+srq6tr6+tr6+srq6tra2tr6+srq6trq6tr6+srq6rrq6tr6+sr6+rrq6tr6+sr6+srq6tr6+sr6+srq6tra2sr6+srq6tra2tr6+srq6tra2tr6+srq6trq6tr6+sr6+trq6tr6+sr6+trq6tr6+sr6+rrq6tra2sr6+rrq6tra2sr6+rrq6tra2sr6+rr6+trq6sr6+rr6+trq6tr6+rr6+trq6tra2rr6+trq6tra2sr6+trq6tra2sr6+tr6+tra2sr6+rr6+tra2sr6+rr6+trq6sr6+rr6+trq6rr6+trq6sra2rr6+trq6tra2rr6+tr6+tra2rr6+tr6+tra2rr6+tr6+tra2rra2tr6+trq6rra2rr6+trq6rra2rr6+tr6+rra2rr6+tr6+sra2rr6+tr6+sra2rra2tr6+sra2rra2tr6+tra2rra2tr6+tr6+rra2tr6+tr6+rra2tr6+tr6+rra2tr6+MYbraAAAA/nRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BR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\"","import styles from \"./Chat.module.css\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport ChatRoom from \"../componets/ChatRoom\";\r\nimport List from \"../componets/List\";\r\nimport { useContext } from \"react\";\r\nimport { Context } from \"../App\";\r\n\r\nconst Chat = () => {\r\n  const { auth, db, user } = useContext(Context);\r\n  const login = async ()=>{\r\n    const provider = new firebase.auth.GoogleAuthProvider();\r\n    const user = await auth.signInWithPopup(provider);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.container}>\r\n        {user ? (\r\n          <>\r\n            <List/>\r\n            <ChatRoom auth={auth} db={db} />\r\n          </>\r\n        ) : (\r\n          <button className={styles.button} onClick={login}>\r\n          Sign in with Google\r\n        </button>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","import \"./App.css\";\nimport { useEffect, useState, useContext, createContext } from \"react\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/firestore\";\nimport \"firebase/compat/auth\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useCollectionData } from \"react-firebase-hooks/firestore\";\nimport Chat from \"./containers/Chat\";\n\nfirebase.initializeApp({\n  apiKey: \"AIzaSyDjIqIghYyE1VnwQQ4AQxQHnZd3T_CGF6g\",\n  authDomain: \"chat-503a6.firebaseapp.com\",\n  databaseURL: \"https://chat-503a6-default-rtdb.firebaseio.com\",\n  projectId: \"chat-503a6\",\n  storageBucket: \"chat-503a6.appspot.com\",\n  messagingSenderId: \"617378192496\",\n  appId: \"1:617378192496:web:d09cc4886d25fe7ed9e8b5\",\n  measurementId: \"G-SS2KYCR2ZR\",\n});\n\nconst auth = firebase.auth();\nconst db = firebase.firestore();\n\nexport const Context = createContext(null);\n\n\nfunction App() {\n  const [user, loading, error] = useAuthState(auth);\n\n  if (loading) {\n    return (<div className='louderBox'>\n      <p className=\"pLouder\">Loading...</p>\n      </div>\n    )\n \n  }\n  return (\n    <div className=\"App\">\n      <Context.Provider\n        value={{\n          firebase,\n          auth,\n          db,\n          user,\n        }}\n      >\n      \n          <Chat />\n    \n      </Context.Provider>\n    </div>\n  );\n}\nexport default App;\n\n// const SignIn = () => {\n//   const signInWithGoogle = () => {\n//     const provider = new firebase.auth.GoogleAuthProvider();\n//     auth.signInWithPopup(provider);\n//   };\n//   return <button onClick={signInWithGoogle}>Sign in with Google</button>;\n// };\n\n// const SignOut = () => {\n//   return auth.currentUser && (<button onClick={() => auth.signOut()}>Sign Out</button>\n//   );\n// };\n\n// const ChatRoom = () => {\n//   const messagesRef = db.collection(\"messages\");\n// const mess = db\n//   .collection(\"messeges\")\n//   .get()\n//   .then((snapshot) => {\n//     snapshot.docs.forEach((doc) => {\n//     });\n//   });\n\n//   const query = messagesRef.orderBy(\"createAt\").limit(25);\n\n//   const [messages] = useCollectionData(query, { idField: \"id\" });\n//   const [formValue, setFormValue] = useState(\"\");\n\n//   const sendMessage = async (e) => {\n//     e.preventDefault();\n//     console.log(e)\n//     const { uid, photoUrl } = auth.currentUser;\n\n//     await messagesRef.add({\n//       text: formValue,\n//       createAt: firebase.firestore.FieldValue.serverTimestamp(),\n//       // uid,\n//       // photoUrl,\n//     });\n//     setFormValue(\"\");\n//   };\n\n//   return (\n//     <>\n//       <div>\n//         Chat rooom\n//         {messages &&\n//           messages.map((msg) => (\n//             <ChatMessage key={msg.id} message={msg.text} />\n//           ))}\n//       </div>\n//       <form onSubmit={sendMessage}>\n//         <input\n//           value={formValue}\n//           onChange={(e) => setFormValue(e.target.value)}\n//         />\n\n//         <button type=\"submit\">send</button>\n//       </form>\n//     </>\n//   );\n// };\n\n// const ChatMessage = ({ message, uid, photoUrl }) => {\n//   // const  {test, uid}  = props;\n//   // console.log(test)\n//   const messageClass = (uid = auth.currentUser.uid ? \"sent\" : \"received\");\n//   return (\n//     <div className={`message${messageClass}`}>\n//       <img src={photoUrl} />\n//       <p>{message}</p>\n//     </div>\n//   );\n// };\n\n// function App(){\n//   const [user,setUser]=useState(()=>auth.currentUser)\n//   const [initializing,setIninitializing]=useState(true)\n\n//  useEffect(()=>{\n//    const unsubscribe = auth.onAuthStateChanged(user=>{\n//      if(user){\n//        setUser(user);\n//      }else{\n//        setUser(null)\n//      }\n//      if(initializing){\n//       setIninitializing(false)\n//      }\n//    })\n//    return unsubscribe\n//  },[])\n\n// const signInWithGoogle = async()=>{\n//   const provider =new firebase.auth.GoogleAuthProvider();\n//   auth.useDeviceLanguage()\n//   try{\n//     await auth.signInWithPopup(provider);\n//   }catch(error){\n//     console.log(error)\n//   }\n// }\n// const sighnOut=async()=>{\n//  try{\n//    await firebase.auth().signOut();\n//  }catch(error){\n//    console.log(error)\n//  }\n// }\n// if(initializing)return \"Loading...\";\n// return(\n//   <div>\n//     {user ? (\n//       <>\n//       <button onClick={sighnOut}>Sign out</button>\n//       <p>Welcome to chat</p>\n//       <Chanal user={user} db ={db}/>\n//       </>\n//       ):(\n//        <button onClick={signInWithGoogle}>Sign in with Google</button>\n//     )}\n\n//   </div>\n// )\n// }\n","import { GET_NAME_COLECTION, GET_DATA_VALUE, LAST_MESS,REMOVE_LAST_MESS,FILTER_LIST } from \"./constants\";\r\n\r\nconst initialState = {\r\n \r\n  nameOfColection: false,\r\n  dataValue: false,\r\n  lastMess: [],\r\n  lastTimeMess: [],\r\n  names: [\r\n    { \r\n      uid: \"1\",\r\n      name: \"Jackie Chan\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Jackie_Chan_by_Gage_Skidmore.jpg/240px-Jackie_Chan_by_Gage_Skidmore.jpg\",\r\n    },\r\n    {\r\n      uid: \"2\",\r\n      name: \"Chack Noris\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/30/Chuck_Norris_May_2015.jpg/250px-Chuck_Norris_May_2015.jpg\",\r\n    },\r\n    {\r\n      uid: \"3\",\r\n      name: \"Bruce Lee\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/Bruce_Lee_1973.jpg/250px-Bruce_Lee_1973.jpg\",\r\n    },\r\n    {\r\n      uid: \"5\",\r\n      name: \"Sylvester Stallone\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/8/84/Sylvester_Stallone_Cannes_2019.jpg/220px-Sylvester_Stallone_Cannes_2019.jpg\",\r\n    },\r\n    {\r\n      uid: \"6\",\r\n      name: \"Arnold Schwarzenegger\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Arnold_Schwarzenegger_by_Gage_Skidmore_3.jpg/250px-Arnold_Schwarzenegger_by_Gage_Skidmore_3.jpg\",\r\n    },\r\n    {\r\n      uid: \"7\",\r\n      name: \"Петро Бампер\",\r\n      img: \"https://actual.today/wp-content/uploads/2019/07/E1FDCE56-D955-44A9-950D-970C7EA83AC8.jpeg\",\r\n    },\r\n    {\r\n      uid: \"8Angelina\",\r\n      name: \"Angelina Jolie\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Angelina_Jolie_2_June_2014_%28cropped%29.jpg/250px-Angelina_Jolie_2_June_2014_%28cropped%29.jpg\",\r\n    },\r\n  ],\r\n  filterList: null,\r\n};\r\n\r\nexport default function root(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GET_NAME_COLECTION:\r\n      return {\r\n        ...state,\r\n        nameOfColection: action.state,\r\n      };\r\n    case GET_DATA_VALUE:\r\n      return {\r\n        ...state,\r\n        dataValue: action.data,\r\n      };\r\n    case LAST_MESS:\r\n      return {\r\n        ...state,\r\n        lastMess: [...state.lastMess, action.data],\r\n      };\r\n    case REMOVE_LAST_MESS:\r\n      return {\r\n        ...state,\r\n        lastMess: action.data,\r\n        lastTimeMess: action.time,\r\n      };\r\n    case FILTER_LIST:\r\n      return {\r\n        ...state,\r\n        filterList: action.data,\r\n        \r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport {Provider}from \"react-redux\"\nimport {createStore,applyMiddleware}from \"redux\"\nimport root from './store/rootReduser'\nimport thunk from \"redux-thunk\";\n\nconst store = createStore(root,applyMiddleware(thunk))\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}